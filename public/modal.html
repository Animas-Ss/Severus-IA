<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    *{
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body{
      font-family: Inter, Avenir, Helvetica, Arial, sans-serif;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
      border-radius: 24px;
      border: 1px solid white;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .container__modal{
      width: 95%;
      height: 95vh;
      background: rgba(0, 0, 0, 0.7);
      border-radius: 24px;
      display: flex;
      justify-content: center;
      border: 1px solid white;
      align-items: end;
      backdrop-filter: blur(10px);
      padding-bottom: 20px;
    }

    .row {
    display: flex;
    justify-content: center;
    gap: 20px;
    }

    input,
    button {
      border-radius: 8px;
      border: 1px solid transparent;
      padding: 0.6em 1.2em;
      font-size: 1em;
      font-weight: 500;
      font-family: inherit;
      color: #0f0f0f;
      transition: border-color 0.25s;
      box-shadow: 0 2px 2px rgba(0, 0, 0, 0.2);
    }

    button {
      cursor: pointer;
    }

    button:active {
  border-color: #fdfdfd;
  background-color: #e8e8e8;
}

input,
button {
  outline: none;
}


  </style>
</head>
<body data-tauri-drag-region >
  <div class="container__modal" data-tauri-drag-region >
    <form class="row" id="form__prompt">
      <input
        id="input__prompt"
        placeholder="Enter a name..."/>
      <button type="submit">prueba</button>
    </form>
  </div>
</body>
<script type="module">

  import {geminis2} from '../src/intelligence/modelo/geminis2.js'

  document.addEventListener('DOMContentLoaded', (e) => {

  const $ = (selector) => document.querySelector(selector);
  
  const $form = $("#form__prompt");
  const $input = $("#input__prompt");
  
  const messages = [];
  let order = ""

  console.log(messages)
  const handleChange = (e) => {
     order= e.target.value
  }

  const handleSubmit = async (e) => {
      e.preventDefault()
      messages.push({role: "user", content: order})
      const response = await geminis2(messages)
      
      messages.push({role: "asistent", content: response.text})
      console.log(response.text)
  }

  $form.addEventListener("submit", handleSubmit)
  $input.addEventListener("input", handleChange)


  console.log($form)
  console.log($input)

  /* este pedazo de codigo es para trascribir la voz al texto value={
          isListening
            ? textInput +
              (transcript.length
                ? (textInput.length ? " " : "") + transcript
                : "")
            : textInput
        } */


 });
</script>     
</html>